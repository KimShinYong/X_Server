<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>ê²Œì‹œíŒ ìˆ™ì œ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      /* ===== ê³µí†µ ===== */
      :root {
        --bg: #e0e5ec;
        --card: #e0e5ec;
        --shadow-dark: #a3b1c6;
        --shadow-light: #ffffff;
        --accent: #4a6cf7;
        --danger: #ff6b6b;
        --text-main: #333;
        --text-muted: #777;
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        padding: 0;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
          sans-serif;
        background: var(--bg);
        color: var(--text-main);
      }

      .hidden {
        display: none !important;
      }

      /* ===== ë ˆì´ì•„ì›ƒ ===== */
      .app {
        max-width: 960px;
        margin: 0 auto;
        padding: 24px 16px 48px;
      }

      header.app-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 24px;
      }

      .app-title {
        font-size: 1.6rem;
        font-weight: 700;
      }

      .user-area {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 0.9rem;
      }

      .btn {
        border: none;
        padding: 8px 14px;
        border-radius: 999px;
        background: var(--card);
        box-shadow: 4px 4px 8px var(--shadow-dark),
          -4px -4px 8px var(--shadow-light);
        cursor: pointer;
        font-size: 0.85rem;
        transition: transform 0.1s ease, box-shadow 0.1s ease;
      }

      .btn:hover {
        transform: translateY(-1px);
        box-shadow: 2px 2px 4px var(--shadow-dark),
          -2px -2px 4px var(--shadow-light);
      }

      .btn:active {
        transform: translateY(1px);
        box-shadow: inset 2px 2px 4px var(--shadow-dark),
          inset -2px -2px 4px var(--shadow-light);
      }

      .btn-accent {
        background: linear-gradient(145deg, #5a7bff, #3f5af0);
        color: #fff;
        box-shadow: 4px 4px 10px rgba(63, 90, 240, 0.4), -3px -3px 6px #ffffff;
      }

      .btn-danger {
        color: #fff;
        background: linear-gradient(145deg, #ff8383, #ff5b5b);
      }

      .user-label {
        padding: 6px 10px;
        border-radius: 999px;
        background: var(--card);
        box-shadow: inset 2px 2px 4px var(--shadow-dark),
          inset -2px -2px 4px var(--shadow-light);
      }

      /* ===== íˆ´ë°” ===== */
      .toolbar {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 20px;
      }

      .input {
        border-radius: 999px;
        border: none;
        padding: 8px 12px;
        background: var(--card);
        box-shadow: inset 2px 2px 4px var(--shadow-dark),
          inset -2px -2px 4px var(--shadow-light);
        outline: none;
        font-size: 0.9rem;
        flex: 0 0 200px;
      }

      .toolbar-right {
        margin-left: auto;
        display: flex;
        gap: 8px;
      }

      /* ===== ë©”ì‹œì§€ ===== */
      .message-box {
        margin-bottom: 12px;
        padding: 10px 14px;
        border-radius: 16px;
        background: var(--card);
        box-shadow: inset 2px 2px 4px var(--shadow-dark),
          inset -2px -2px 4px var(--shadow-light);
        font-size: 0.85rem;
        color: var(--text-main);
      }

      .message-box[data-type="error"] {
        color: #c53030;
      }
      .message-box[data-type="success"] {
        color: #2f855a;
      }

      /* ===== í¬ìŠ¤íŠ¸ ì¹´ë“œ ===== */
      .post-list {
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .post-card {
        position: relative;
        padding: 14px 16px 12px;
        border-radius: 18px;
        background: var(--card);
        box-shadow: 6px 6px 12px var(--shadow-dark),
          -6px -6px 12px var(--shadow-light);
        transition: transform 0.1s ease, box-shadow 0.1s ease;
      }

      .post-card:hover {
        transform: translateY(-2px);
        box-shadow: 4px 4px 8px var(--shadow-dark),
          -4px -4px 8px var(--shadow-light);
      }

      .post-card__header {
        display: flex;
        justify-content: space-between;
        align-items: baseline;
        margin-bottom: 8px;
        font-size: 0.85rem;
      }

      .post-card__user {
        font-weight: 600;
      }

      .post-card__date {
        color: var(--text-muted);
        font-size: 0.78rem;
      }

      .post-card__text {
        font-size: 0.95rem;
        white-space: pre-wrap;
        word-break: break-word;
      }

      .post-card__actions {
        position: absolute;
        top: 8px;
        right: 10px;
        display: flex;
        gap: 6px;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.15s ease;
      }

      .post-card:hover .post-card__actions {
        opacity: 1;
        pointer-events: auto;
      }

      .post-card__btn {
        padding: 4px 10px;
        font-size: 0.75rem;
      }

      .post-empty {
        font-size: 0.9rem;
        color: var(--text-muted);
        text-align: center;
        margin-top: 24px;
      }

      /* ===== ì˜¤ë²„ë ˆì´ ì¹´ë“œ (ë¡œê·¸ì¸/íšŒì›ê°€ì…/ì‘ì„±) ===== */
      .overlay-container {
        position: fixed;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        pointer-events: none;
      }

      .overlay-backdrop {
        position: absolute;
        inset: 0;
        background: rgba(0, 0, 0, 0.18);
        opacity: 0;
        transition: opacity 0.15s ease;
      }

      .overlay-card {
        position: relative;
        width: 100%;
        max-width: 380px;
        padding: 24px 22px 18px;
        border-radius: 24px;
        background: var(--card);
        box-shadow: 10px 10px 18px var(--shadow-dark),
          -10px -10px 18px var(--shadow-light);
        transform: translateY(20px);
        opacity: 0;
        transition: opacity 0.2s ease, transform 0.2s ease;
        pointer-events: auto;
      }

      .overlay-container.active .overlay-backdrop {
        opacity: 1;
      }

      .overlay-container.active .overlay-card {
        transform: translateY(0);
        opacity: 1;
      }

      .overlay-title {
        font-size: 1.2rem;
        margin-bottom: 12px;
        font-weight: 600;
      }

      .form-group {
        display: flex;
        flex-direction: column;
        gap: 4px;
        margin-bottom: 10px;
        font-size: 0.85rem;
      }

      .form-group label {
        padding-left: 4px;
      }

      .form-input {
        border-radius: 999px;
        border: none;
        padding: 8px 12px;
        background: var(--card);
        box-shadow: inset 2px 2px 4px var(--shadow-dark),
          inset -2px -2px 4px var(--shadow-light);
        outline: none;
        font-size: 0.9rem;
      }

      .overlay-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 8px;
        font-size: 0.8rem;
      }

      .link-btn {
        border: none;
        background: none;
        padding: 0;
        color: var(--accent);
        cursor: pointer;
        font-size: 0.8rem;
        text-decoration: underline;
      }

      /* ì‘ì„± ì¹´ë“œ ì „ìš© */
      .editor-textarea {
        width: 100%;
        min-height: 150px;
        border-radius: 18px;
        border: none;
        padding: 12px;
        background: var(--card);
        box-shadow: inset 3px 3px 6px var(--shadow-dark),
          inset -3px -3px 6px var(--shadow-light);
        outline: none;
        resize: vertical;
        font-size: 0.9rem;
      }

      .overlay-card.small {
        max-width: 480px;
      }
    </style>
  </head>
  <body>
    <div class="app">
      <header class="app-header">
        <div class="app-title">ìˆ™ì œ ê²Œì‹œíŒ</div>
        <div class="user-area">
          <span id="user-info" class="user-label"></span>
          <button id="btn-logout" class="btn btn-danger hidden">
            ë¡œê·¸ì•„ì›ƒ
          </button>
        </div>
      </header>

      <div id="message-box" class="message-box hidden"></div>

      <!-- íˆ´ë°”: ê²€ìƒ‰ + ìƒˆ ê¸€ ë²„íŠ¼ -->
      <section class="toolbar">
        <input
          id="search-userid"
          class="input"
          type="text"
          placeholder="ì•„ì´ë””ë¡œ ê²€ìƒ‰"
        />
        <button id="btn-search" class="btn" title="ê²€ìƒ‰">ğŸ”</button>

        <div class="toolbar-right">
          <button id="btn-new-post" class="btn btn-accent">+ ìƒˆ ê¸€ ì‘ì„±</button>
        </div>
      </section>

      <!-- í¬ìŠ¤íŠ¸ ëª©ë¡ -->
      <section id="post-list" class="post-list"></section>
    </div>

    <!-- ë¡œê·¸ì¸ / íšŒì›ê°€ì… / ì‘ì„± ì˜¤ë²„ë ˆì´ (í•˜ë‚˜ë§Œ í•­ìƒ ë³´ì´ê²Œ JSë¡œ ì œì–´) -->
    <div id="overlay-root" class="overlay-container hidden">
      <div class="overlay-backdrop"></div>

      <!-- ë¡œê·¸ì¸ ì¹´ë“œ -->
      <div id="login-card" class="overlay-card hidden">
        <h2 class="overlay-title">ë¡œê·¸ì¸</h2>
        <form id="login-form">
          <div class="form-group">
            <label for="login-userid">ì•„ì´ë””</label>
            <input
              id="login-userid"
              class="form-input"
              type="text"
              autocomplete="username"
            />
          </div>
          <div class="form-group">
            <label for="login-password">ë¹„ë°€ë²ˆí˜¸</label>
            <input
              id="login-password"
              class="form-input"
              type="password"
              autocomplete="current-password"
            />
          </div>
          <button type="submit" class="btn btn-accent" style="width: 100%">
            ë¡œê·¸ì¸
          </button>
        </form>
        <div class="overlay-footer">
          <span>ì²˜ìŒì´ì•¼?</span>
          <button id="to-signup" class="link-btn" type="button">
            íšŒì›ê°€ì… í•˜ëŸ¬ê°€ê¸°
          </button>
        </div>
      </div>

      <!-- íšŒì›ê°€ì… ì¹´ë“œ -->
      <div id="signup-card" class="overlay-card hidden">
        <h2 class="overlay-title">íšŒì›ê°€ì…</h2>
        <form id="signup-form">
          <div class="form-group">
            <label for="signup-userid">ì•„ì´ë””</label>
            <input id="signup-userid" class="form-input" type="text" />
          </div>
          <div class="form-group">
            <label for="signup-password">ë¹„ë°€ë²ˆí˜¸</label>
            <input
              id="signup-password"
              class="form-input"
              type="password"
              autocomplete="new-password"
            />
          </div>
          <div class="form-group">
            <label for="signup-name">ì´ë¦„</label>
            <input id="signup-name" class="form-input" type="text" />
          </div>
          <div class="form-group">
            <label for="signup-email">ì´ë©”ì¼</label>
            <input id="signup-email" class="form-input" type="email" />
          </div>
          <button type="submit" class="btn btn-accent" style="width: 100%">
            íšŒì›ê°€ì…
          </button>
        </form>
        <div class="overlay-footer">
          <span>ì´ë¯¸ ê³„ì •ì´ ìˆì–´?</span>
          <button id="to-login" class="link-btn" type="button">
            ë¡œê·¸ì¸ í•˜ëŸ¬ê°€ê¸°
          </button>
        </div>
      </div>

      <!-- í¬ìŠ¤íŠ¸ ì‘ì„±/ìˆ˜ì • ì¹´ë“œ -->
      <div id="post-editor-card" class="overlay-card small hidden">
        <h2 id="post-editor-title" class="overlay-title">ìƒˆ ê¸€ ì‘ì„±</h2>
        <form id="post-editor-form">
          <input id="post-id" type="hidden" />
          <div class="form-group">
            <label for="post-text">ë‚´ìš©</label>
            <textarea
              id="post-text"
              class="editor-textarea"
              placeholder="ë¬´ìŠ¨ ì´ì•¼ê¸°ë¥¼ ë‚˜ëˆ„ê³  ì‹¶ì–´?"
            ></textarea>
          </div>
          <div
            style="
              display: flex;
              justify-content: flex-end;
              gap: 8px;
              margin-top: 8px;
            "
          >
            <button
              type="button"
              id="btn-editor-cancel"
              class="btn"
              style="min-width: 80px"
            >
              ì·¨ì†Œ
            </button>
            <button
              type="submit"
              class="btn btn-accent"
              style="min-width: 80px"
            >
              ì €ì¥
            </button>
          </div>
        </form>
      </div>
    </div>

    <script type="module" src="../js/main.js"></script>
  </body>
</html>
